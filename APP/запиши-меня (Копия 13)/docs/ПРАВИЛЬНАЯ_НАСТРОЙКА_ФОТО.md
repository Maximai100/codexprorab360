# üì∏ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è (—á–µ—Ä–µ–∑ Directus)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–£ –≤–∞—Å:
- **Directus** (`https://1.cycloscope.online`) - –æ—Å–Ω–æ–≤–Ω–∞—è –ë–î –∏ —Ñ–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- **Notification API** (`https://api.prorab360.online/notify`) - —Ç–æ–ª—å–∫–æ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Directus Files** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è.

## –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (10 –º–∏–Ω—É—Ç)

### –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –≤ Directus (5 –º–∏–Ω—É—Ç)

1. –û—Ç–∫—Ä–æ–π https://1.cycloscope.online
2. Settings ‚Üí Data Model ‚Üí masters
3. Create Field:
   - **Name**: `photoUrl`
   - **Type**: **String** (–Ω–µ File!)
   - **Interface**: Input
   - **Required**: No
4. Save

> **–ü–æ—á–µ–º—É String, –∞ –Ω–µ File?** –¢–∞–∫ –ø—Ä–æ—â–µ - –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ ID —Ñ–∞–π–ª–∞ Directus, —Ç–∞–∫ –∏ –≤–Ω–µ—à–Ω–∏–π URL.

### –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ –º–∞—Å—Ç–µ—Ä–∞ (5 –º–∏–Ω—É—Ç)

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Directus Files (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–ó–∞–≥—Ä—É–∑–∏ —Ñ–æ—Ç–æ –≤ Directus:**
   - File Library ‚Üí Upload
   - –í—ã–±–µ—Ä–∏ —Ñ–æ—Ç–æ –º–∞—Å—Ç–µ—Ä–∞
   - –°–∫–æ–ø–∏—Ä—É–π ID —Ñ–∞–π–ª–∞ (UUID, –Ω–∞–ø—Ä–∏–º–µ—Ä: `abc123-def456-...`)

2. **–£–∫–∞–∂–∏ ID –≤ –ø—Ä–æ—Ñ–∏–ª–µ –º–∞—Å—Ç–µ—Ä–∞:**
   - Content ‚Üí masters
   - –ù–∞–π–¥–∏ –º–∞—Å—Ç–µ—Ä–∞
   - –í –ø–æ–ª–µ `photoUrl` –≤—Å—Ç–∞–≤—å ID —Ñ–∞–π–ª–∞
   - Save

**–ì–æ—Ç–æ–≤–æ!** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç URL: `https://1.cycloscope.online/assets/{fileId}`

#### –í–∞—Ä–∏–∞–Ω—Ç B: –í–Ω–µ—à–Ω–∏–π URL

–ï—Å–ª–∏ —Ñ–æ—Ç–æ —É–∂–µ –≥–¥–µ-—Ç–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ:
1. Content ‚Üí masters
2. –í –ø–æ–ª–µ `photoUrl` –≤—Å—Ç–∞–≤—å –ø–æ–ª–Ω—ã–π URL: `https://example.com/photo.jpg`
3. Save

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ

```
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –º–∞—Å—Ç–µ—Ä–∞
         ‚Üì
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–ª–µ photoUrl
         ‚Üì
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ –ß—Ç–æ –≤ –ø–æ–ª–µ? ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚Üô         ‚Üò
   UUID      –ü–æ–ª–Ω—ã–π URL
     ‚Üì            ‚Üì
–§–æ—Ä–º–∏—Ä—É–µ—Ç    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç
Directus URL  –∫–∞–∫ –µ—Å—Ç—å
     ‚Üì            ‚Üì
   ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
   ‚ïë –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ç–æ ‚ïë
   ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

### –ü—Ä–∏–º–µ—Ä—ã

**UUID —Ñ–∞–π–ª–∞ Directus:**
```
photoUrl: "abc123-def456-789..."
‚Üí https://1.cycloscope.online/assets/abc123-def456-789...
```

**–í–Ω–µ—à–Ω–∏–π URL:**
```
photoUrl: "https://example.com/photo.jpg"
‚Üí https://example.com/photo.jpg
```

**–ü—É—Å—Ç–æ:**
```
photoUrl: null
‚Üí –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∏–Ω–∏—Ü–∏–∞–ª—ã
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

‚úÖ **–ü—Ä–æ—Å—Ç–æ** - –Ω–µ –Ω—É–∂–µ–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –±—ç–∫–µ–Ω–¥  
‚úÖ **–ë—ã—Å—Ç—Ä–æ** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞ 10 –º–∏–Ω—É—Ç  
‚úÖ **–ì–∏–±–∫–æ** - –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Directus Files –∏–ª–∏ –≤–Ω–µ—à–Ω–∏–µ URL  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ** - –≤—Å–µ —á–µ—Ä–µ–∑ Directus, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω  
‚úÖ **–ù–∞–¥–µ–∂–Ω–æ** - fallback –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª—ã –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç  

## –¢–∏–ø—ã –ø–æ–ª–µ–π –≤ Directus

### –ü–æ—á–µ–º—É String, –∞ –Ω–µ File?

| –¢–∏–ø | –ü–ª—é—Å—ã | –ú–∏–Ω—É—Å—ã |
|-----|-------|--------|
| **String** ‚úÖ | ‚Ä¢ –ì–∏–±–∫–æ—Å—Ç—å (UUID –∏–ª–∏ URL)<br>‚Ä¢ –ü—Ä–æ—Å—Ç–æ—Ç–∞<br>‚Ä¢ –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Å–≤—è–∑–µ–π | ‚Ä¢ –ù—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –≤–≤–æ–¥–∏—Ç—å |
| **File** | ‚Ä¢ –£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å<br>‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑—å | ‚Ä¢ –¢–æ–ª—å–∫–æ Directus Files<br>‚Ä¢ –°–ª–æ–∂–Ω–µ–µ –≤ –∫–æ–¥–µ |

–ú—ã –≤—ã–±—Ä–∞–ª–∏ **String** –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏.

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ Telegram (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ñ–æ—Ç–æ –∏–∑ Telegram:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

–°–æ–∑–¥–∞–π Node.js —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π:
1. –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –º–∞—Å—Ç–µ—Ä–æ–≤ –∏–∑ Directus
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ Telegram Bot API
3. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤ Directus Files
4. –û–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª–µ `photoUrl`

**–ó–∞–ø—É—Å–∫–∞—Ç—å:** –†–∞–∑ –≤ –¥–µ–Ω—å —á–µ—Ä–µ–∑ cron

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Directus Flow (–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è)

Directus –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é (Flows):
1. –¢—Ä–∏–≥–≥–µ—Ä: –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Å—Ç–µ—Ä–∞
2. –î–µ–π—Å—Ç–≤–∏–µ: Webhook –∫ –≤–∞—à–µ–º—É —Å–∫—Ä–∏–ø—Ç—É
3. –°–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–æ—Ç–æ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å

–°–æ–∑–¥–∞—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –Ω–∞ `api.prorab360.online`:
- –≠–Ω–¥–ø–æ–∏–Ω—Ç: `GET /sync-photos`
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Ñ–æ—Ç–æ –≤—Å–µ—Ö –º–∞—Å—Ç–µ—Ä–æ–≤
- –ó–∞–ø—É—Å–∫–∞—Ç—å –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

**–ù–æ —ç—Ç–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!** –ú–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ñ–æ—Ç–æ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Directus.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ü—Ä–æ–≤–µ—Ä—å –ø–æ–ª–µ –≤ Directus

```bash
curl "https://1.cycloscope.online/items/masters?fields=id,name,photoUrl"
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:
```json
{
  "data": [
    {
      "id": 1,
      "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
      "photoUrl": "abc123-def456-..." // –∏–ª–∏ URL
    }
  ]
}
```

### 2. –ü—Ä–æ–≤–µ—Ä—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

1. –û—Ç–∫—Ä–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
3. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
   ```
   üì∏ –§–æ—Ç–æ –º–∞—Å—Ç–µ—Ä–∞: https://1.cycloscope.online/assets/abc123...
   ```
4. –§–æ—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —à–∞–ø–∫–µ –ø—Ä–æ—Ñ–∏–ª—è

### 3. –ü—Ä–æ–≤–µ—Ä—å fallback

1. –£–¥–∞–ª–∏ `photoUrl` –∏–∑ Directus
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –î–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –∏–Ω–∏—Ü–∏–∞–ª—ã

## –§–æ—Ä–º–∞—Ç—ã —Ñ–æ—Ç–æ

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- **–†–∞–∑–º–µ—Ä:** 200x200px –∏–ª–∏ –±–æ–ª—å—à–µ
- **–§–æ—Ä–º–∞—Ç:** JPG, PNG, WebP
- **–í–µ—Å:** –î–æ 500 KB
- **–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ:** 1:1 (–∫–≤–∞–¥—Ä–∞—Ç)

### Directus –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç thumbnails
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ä–∞–∑–º–µ—Ä
- –ö—ç—à–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã

## –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –≤ Directus

–£–±–µ–¥–∏—Å—å, —á—Ç–æ:

1. **Public —Ä–æ–ª—å** –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫:
   - `masters` (read)
   - `files` (read) - –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ

2. **Authenticated —Ä–æ–ª—å** –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫:
   - `masters` (read, update) - –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è photoUrl
   - `files` (create, read) - –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å: Settings ‚Üí Roles & Permissions

## –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Telegram —Ñ–æ—Ç–æ –Ω–∞–ø—Ä—è–º—É—é?**  
A: –ù–µ—Ç, Telegram WebApp –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Ñ–æ—Ç–æ. –ù—É–∂–µ–Ω Bot API –Ω–∞ –±—ç–∫–µ–Ω–¥–µ.

**Q: –ù—É–∂–Ω–æ –ª–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π API –¥–ª—è —Ñ–æ—Ç–æ?**  
A: –ù–µ—Ç! –ò—Å–ø–æ–ª—å–∑—É–π Directus Files - —ç—Ç–æ –ø—Ä–æ—â–µ –∏ –±—ã—Å—Ç—Ä–µ–µ.

**Q: –ß—Ç–æ –µ—Å–ª–∏ –º–∞—Å—Ç–µ—Ä –∏–∑–º–µ–Ω–∏—Ç —Ñ–æ—Ç–æ –≤ Telegram?**  
A: –ù—É–∂–Ω–æ –±—É–¥–µ—Ç –≤—Ä—É—á–Ω—É—é –æ–±–Ω–æ–≤–∏—Ç—å –≤ Directus –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ?**  
A: –î–∞, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ Directus API. –ù–æ –ø—Ä–æ—â–µ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É.

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –î–æ–±–∞–≤—å –ø–æ–ª–µ `photoUrl` –≤ Directus
2. ‚úÖ –ó–∞–≥—Ä—É–∑–∏ —Ñ–æ—Ç–æ –º–∞—Å—Ç–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ File Library
3. ‚úÖ –£–∫–∞–∂–∏ ID —Ñ–∞–π–ª–æ–≤ –≤ –ø—Ä–æ—Ñ–∏–ª—è—Ö –º–∞—Å—Ç–µ—Ä–æ–≤
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

**–ì–æ—Ç–æ–≤–æ!** –§–æ—Ç–æ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ Directus –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –±—ç–∫–µ–Ω–¥–∞.

## –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

–°–æ–∑–¥–∞–π issue —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ Telegram
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
- –ú–∞—Å—Å–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–ª—è –≤—Å–µ—Ö –º–∞—Å—Ç–µ—Ä–æ–≤

–≠—Ç–æ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–∑–∂–µ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ–∏—á—É.

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é  
**–í—Ä–µ–º—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** 10 –º–∏–Ω—É—Ç  
**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –±—ç–∫–µ–Ω–¥:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è  
**–î–∞—Ç–∞:** 19.10.2025
