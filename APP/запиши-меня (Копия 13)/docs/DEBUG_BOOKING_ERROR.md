# üêõ –û—Ç–ª–∞–¥–∫–∞ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–ø–∏—Å–∏

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –ü—Ä–æ–±–ª–µ–º–∞:
–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–ø–∏—Å–∏ –∫–ª–∏–µ–Ω—Ç–æ–º –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ:
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `telegramId` –≤–º–µ—Å—Ç–æ UUID –º–∞—Å—Ç–µ—Ä–∞ –∏–∑ –ë–î
2. –ù–µ –ø—Ä–æ–≤–µ—Ä—è–ª–æ—Å—å –Ω–∞–ª–∏—á–∏–µ ID —É—Å–ª—É–≥–∏
3. –ù–µ –±—ã–ª–æ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### –†–µ—à–µ–Ω–∏–µ:
–û–±–Ω–æ–≤–ª–µ–Ω `handleBookAppointment` –¥–ª—è:
1. –ü–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ UUID –º–∞—Å—Ç–µ—Ä–∞ –∏–∑ –ë–î –ø–æ `telegramId`
2. –ü—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è ID —É—Å–ª—É–≥–∏
3. –î–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

---

## –ö–∞–∫ –æ—Ç–ª–∞–¥–∏—Ç—å –æ—à–∏–±–∫—É

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

1. –û—Ç–∫—Ä–æ–π Web App –≤ Telegram
2. –ù–∞–∂–º–∏ F12 (–∏–ª–∏ Cmd+Option+I –Ω–∞ Mac)
3. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Console

### –®–∞–≥ 2: –ü–æ–ø—Ä–æ–±—É–π —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å

1. –í—ã–±–µ—Ä–∏ —É—Å–ª—É–≥—É
2. –ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É
3. –ù–∞–∂–º–∏ "–ó–ê–ü–ò–°–ê–¢–¨–°–Ø"

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏

–í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏:

```
üìù –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏: {clientName: "...", service: "...", ...}
üë§ –†–µ–∂–∏–º –∫–ª–∏–µ–Ω—Ç–∞: true
üîë startParam: "7143047665"
üîç –ò—â–µ–º –º–∞—Å—Ç–µ—Ä–∞ –ø–æ telegramId: 7143047665
üì¶ –û—Ç–≤–µ—Ç –æ—Ç –ë–î: {data: [...]}
‚úÖ ID –º–∞—Å—Ç–µ—Ä–∞ –≤ –ë–î: "abc-123-def"
üîç –ò—â–µ–º —É—Å–ª—É–≥—É: "–°—Ç—Ä–∏–∂–∫–∞"
üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ —É—Å–ª—É–≥–∏: [{id: "...", name: "–°—Ç—Ä–∏–∂–∫–∞", ...}]
‚úÖ ID —É—Å–ª—É–≥–∏: "xyz-789"
üì§ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –ë–î: {master: "...", service: "...", ...}
‚úÖ –ó–∞–ø–∏—Å—å —Å–æ–∑–¥–∞–Ω–∞: {data: {...}}
```

---

## –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏

### –û—à–∏–±–∫–∞ 1: "–ú–∞—Å—Ç–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö"

**–ü—Ä–∏—á–∏–Ω–∞:** –í –ë–î –Ω–µ—Ç –º–∞—Å—Ç–µ—Ä–∞ —Å —Ç–∞–∫–∏–º `telegramId`.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –º–∞—Å—Ç–µ—Ä –æ—Ç–∫—Ä—ã–≤–∞–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ö–æ—Ç—è –±—ã —Ä–∞–∑
2. –ü—Ä–æ–≤–µ—Ä—å –≤ Directus: `items/masters` ‚Üí –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø–∏—Å—å —Å `telegramId = 7143047665`
3. –ï—Å–ª–∏ –∑–∞–ø–∏—Å–∏ –Ω–µ—Ç, –æ—Ç–∫—Ä–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç –∏–º–µ–Ω–∏ –º–∞—Å—Ç–µ—Ä–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏:**
```javascript
// –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –º–∞—Å—Ç–µ—Ä–∞
fetch('https://1.cycloscope.online/items/masters?filter[telegramId][_eq]=7143047665')
```

---

### –û—à–∏–±–∫–∞ 2: "–£—Å–ª—É–≥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"

**–ü—Ä–∏—á–∏–Ω–∞:** –£ —É—Å–ª—É–≥–∏ –Ω–µ—Ç `id` –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: `üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ —É—Å–ª—É–≥–∏`
2. –£–±–µ–¥–∏—Å—å, —á—Ç–æ —É –∫–∞–∂–¥–æ–π —É—Å–ª—É–≥–∏ –µ—Å—Ç—å `id`
3. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —É—Å–ª—É–≥–∏ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Ç–æ—á–Ω–æ

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏:**
```javascript
// –ü—Ä–æ–≤–µ—Ä—å —É—Å–ª—É–≥–∏ –º–∞—Å—Ç–µ—Ä–∞
fetch('https://1.cycloscope.online/items/services?filter[master][_eq]=MASTER_ID')
```

---

### –û—à–∏–±–∫–∞ 3: "403 Forbidden" –∏–ª–∏ "401 Unauthorized"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –≤ Directus.

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π Directus ‚Üí Settings ‚Üí Roles & Permissions
2. –ù–∞–π–¥–∏ —Ä–æ–ª—å "Public"
3. –î–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `appointments`:
   - Create: ‚úÖ (—Ä–∞–∑—Ä–µ—à–∏—Ç—å)
   - Read: ‚úÖ (—Ä–∞–∑—Ä–µ—à–∏—Ç—å)

**–í–∞–∂–Ω–æ:** –ö–ª–∏–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –ø—Ä–∞–≤–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–ø–∏—Å–∏!

---

### –û—à–∏–±–∫–∞ 4: "Invalid foreign key"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç ID –º–∞—Å—Ç–µ—Ä–∞ –∏–ª–∏ —É—Å–ª—É–≥–∏.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: `‚úÖ ID –º–∞—Å—Ç–µ—Ä–∞ –≤ –ë–î` –∏ `‚úÖ ID —É—Å–ª—É–≥–∏`
2. –£–±–µ–¥–∏—Å—å, —á—Ç–æ —ç—Ç–æ UUID (—Ñ–æ—Ä–º–∞—Ç: `abc-123-def`)
3. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –∑–∞–ø–∏—Å–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –ë–î

---

### –û—à–∏–±–∫–∞ 5: "Invalid datetime format"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã/–≤—Ä–µ–º–µ–Ω–∏.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: `üì§ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –ë–î`
2. –ü–æ–ª–µ `dateTime` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601
3. –ü—Ä–∏–º–µ—Ä: `"2025-10-19T14:30:00.000Z"`

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î

### –ü—Ä–æ–≤–µ—Ä—å –º–∞—Å—Ç–µ—Ä–∞:

```sql
SELECT * FROM masters WHERE telegramId = 7143047665;
```

–î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø–∏—Å—å —Å:
- `id` (UUID)
- `telegramId` (—á–∏—Å–ª–æ)
- `name` (—Å—Ç—Ä–æ–∫–∞)
- `profession` (—Å—Ç—Ä–æ–∫–∞)

### –ü—Ä–æ–≤–µ—Ä—å —É—Å–ª—É–≥–∏:

```sql
SELECT * FROM services WHERE master = 'MASTER_UUID';
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–∏—Å–∏ —Å:
- `id` (UUID)
- `master` (UUID –º–∞—Å—Ç–µ—Ä–∞)
- `name` (—Å—Ç—Ä–æ–∫–∞)
- `price` (—á–∏—Å–ª–æ)
- `duration` (—á–∏—Å–ª–æ)

### –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:

–í Directus ‚Üí Settings ‚Üí Roles & Permissions ‚Üí Public:

**–ö–æ–ª–ª–µ–∫—Ü–∏—è `appointments`:**
- Create: ‚úÖ
- Read: ‚úÖ (–∏–ª–∏ —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞–ø–∏—Å–∏)

**–ö–æ–ª–ª–µ–∫—Ü–∏—è `masters`:**
- Read: ‚úÖ (—Ç–æ–ª—å–∫–æ –ø–æ–ª—è: id, name, profession)

**–ö–æ–ª–ª–µ–∫—Ü–∏—è `services`:**
- Read: ‚úÖ

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –∫–ª–∏–µ–Ω—Ç–æ–º

1. –û—Ç–∫—Ä–æ–π —Å—Å—ã–ª–∫—É: `https://t.me/zapismenya_bot/menu?startapp=7143047665`
2. –í—ã–±–µ—Ä–∏ —É—Å–ª—É–≥—É
3. –ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É
4. –ù–∞–∂–º–∏ "–ó–ê–ü–ò–°–ê–¢–¨–°–Ø"
5. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏
6. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –∑–∞–ø–∏—Å—å –ø–æ—è–≤–∏–ª–∞—Å—å –≤ –ë–î

### –¢–µ—Å—Ç 2: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –º–∞—Å—Ç–µ—Ä–æ–º

1. –û—Ç–∫—Ä–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç –∏–º–µ–Ω–∏ –º–∞—Å—Ç–µ—Ä–∞
2. –ü–µ—Ä–µ–π–¥–∏ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å
3. –°–æ–∑–¥–∞–π –∑–∞–ø–∏—Å—å –≤—Ä—É—á–Ω—É—é (–µ—Å–ª–∏ –µ—Å—Ç—å —Ç–∞–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è)
4. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ API:

```bash
# –ü–æ–ª—É—á–∏—Ç—å –º–∞—Å—Ç–µ—Ä–∞
curl "https://1.cycloscope.online/items/masters?filter[telegramId][_eq]=7143047665"

# –ü–æ–ª—É—á–∏—Ç—å —É—Å–ª—É–≥–∏ –º–∞—Å—Ç–µ—Ä–∞
curl "https://1.cycloscope.online/items/services?filter[master][_eq]=MASTER_UUID"

# –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å (—Ç–µ—Å—Ç)
curl -X POST "https://1.cycloscope.online/items/appointments" \
  -H "Content-Type: application/json" \
  -d '{
    "master": "MASTER_UUID",
    "service": "SERVICE_UUID",
    "clientName": "–¢–µ—Å—Ç",
    "dateTime": "2025-10-20T14:00:00.000Z"
  }'
```

---

## –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –æ—Å—Ç–∞–ª–∞—Å—å

1. **–°–∫–æ–ø–∏—Ä—É–π –ª–æ–≥–∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏** (–≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å üìù, üîç, ‚úÖ, ‚ùå)
2. **–°–∫–æ–ø–∏—Ä—É–π –æ—à–∏–±–∫—É** (–∫—Ä–∞—Å–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏)
3. **–ü—Ä–æ–≤–µ—Ä—å Network** (–≤–∫–ª–∞–¥–∫–∞ Network –≤ DevTools):
   - –ù–∞–π–¥–∏ –∑–∞–ø—Ä–æ—Å –∫ `/items/appointments`
   - –ü—Ä–æ–≤–µ—Ä—å Request (—á—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è)
   - –ü—Ä–æ–≤–µ—Ä—å Response (—á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä)

---

## –ò—Ç–æ–≥

–¢–µ–ø–µ—Ä—å –≤ –∫–æ–¥–µ:
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç—Å—è UUID –º–∞—Å—Ç–µ—Ä–∞ –∏–∑ –ë–î
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ ID —É—Å–ª—É–≥–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –æ—Å—Ç–∞–ª–∞—Å—å, –ø—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –∏ —Å–ª–µ–¥—É–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤—ã—à–µ.

–£–¥–∞—á–∏! üöÄ
