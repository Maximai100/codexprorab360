# üîç –ü–æ–ª–Ω–æ–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ

## üìã –û–±–∑–æ—Ä

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏. –ö–∞–∂–¥—ã–π —à–∞–≥ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Ç–µ–ø–µ—Ä—å –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞.

---

## üìÅ –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `index.tsx`

#### –§—É–Ω–∫—Ü–∏—è `handleBookAppointment` (—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ Directus)
**–°—Ç—Ä–æ–∫–∏: ~2389-2620**

–õ–æ–≥–∏—Ä—É–µ—Ç 11 —à–∞–≥–æ–≤:
- **–®–ê–ì A1**: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∑–∞–ø–∏—Å–∏
- **–®–ê–ì A2**: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ID –º–∞—Å—Ç–µ—Ä–∞ –≤ –ë–î (—Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏)
- **–®–ê–ì A3**: –ü–æ–∏—Å–∫ ID —É—Å–ª—É–≥–∏
- **–®–ê–ì A4**: –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Directus ‚ö†Ô∏è **–í–ö–õ–Æ–ß–ê–ï–¢ `status: 'confirmed'`**
- **–®–ê–ì A5**: POST –∑–∞–ø—Ä–æ—Å –≤ Directus `/items/appointments`
- **–®–ê–ì A6**: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ Directus –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
- **–®–ê–ì A7**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è appointments
- **–®–ê–ì A8**: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è ID –∑–∞–ø–∏—Å–∏
- **–®–ê–ì A9**: –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ BookingInfo
- **–®–ê–ì A10**: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è (toast, haptic)
- **–®–ê–ì A11**: –í–æ–∑–≤—Ä–∞—Ç —Å–æ–∑–¥–∞–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏

#### –§—É–Ω–∫—Ü–∏—è `handleBook` (–æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
**–°—Ç—Ä–æ–∫–∏: ~680-820**

–õ–æ–≥–∏—Ä—É–µ—Ç 10 —à–∞–≥–æ–≤:
- **–®–ê–ì 1**: –ù–∞—á–∞–ª–æ –ø—Ä–æ—Ü–µ—Å—Å–∞, –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **–®–ê–ì 2**: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è ID –º–∞—Å—Ç–µ—Ä–∞ (chat_id)
- **–®–ê–ì 3**: –ü–æ–ª—É—á–µ–Ω–∏–µ telegramId –∫–ª–∏–µ–Ω—Ç–∞
- **–®–ê–ì 4**: –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏
- **–®–ê–ì 5**: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Directus
- **–®–ê–ì 6**: –í—ã–∑–æ–≤ `onBookAppointment` (—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏)
- **–®–ê–ì 7**: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ payload –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **–®–ê–ì 8**: üöÄ **–û–¢–ü–†–ê–í–ö–ê –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø** —á–µ—Ä–µ–∑ `sendBookingNotifications`
  - –õ–æ–≥–∏—Ä—É–µ—Ç URL —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞
  - –î–µ—Ç–∞–ª—å–Ω–æ –ª–æ–≥–∏—Ä—É–µ—Ç –∫–∞–∂–¥–æ–µ –ø–æ–ª–µ payload
  - –õ–æ–≥–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–ª–∏ –¥–µ—Ç–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É
- **–®–ê–ì 9**: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è UI
- **–®–ê–ì 10**: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞

### 2. `src/api/notify.ts`

#### –§—É–Ω–∫—Ü–∏—è `sendBookingNotifications`
**–£—Å–∏–ª–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**

**–ü–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π:**
- üîî –ù–∞—á–∞–ª–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- üìç URL —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞
- üì¶ –ü–æ–ª–Ω—ã–π payload (JSON —Å –æ—Ç—Å—Ç—É–ø–∞–º–∏)
- üì¶ –î–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—è payload

**–í–æ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏:**
- üöÄ –ú–æ–º–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ fetch –∑–∞–ø—Ä–æ—Å–∞
- üìù –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (—Å—Ç—Ä–æ–∫–∞)

**–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞:**
- üì• –ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç
- üìä HTTP —Å—Ç–∞—Ç—É—Å (–∫–æ–¥ –∏ —Ç–µ–∫—Å—Ç)
- üìä Response OK (true/false)
- üìä Response headers
- üìÑ –¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ (—Ç–µ–∫—Å—Ç)
- ‚úÖ –†–∞—Å–ø–∞—Ä—Å–µ–Ω–Ω—ã–π JSON

**–ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö:**
- ‚ùå –¢–∏–ø –æ—à–∏–±–∫–∏
- üî¥ –°–æ–æ–±—â–µ–Ω–∏–µ –æ—à–∏–±–∫–∏
- üî¥ Stack trace
- üî¥ –ü–æ–ª–Ω—ã–π –æ–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏
- ‚è±Ô∏è –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤
- üåê –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫

---

## üîé –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
- **Chrome/Edge**: F12 ‚Üí –≤–∫–ª–∞–¥–∫–∞ Console
- **Firefox**: F12 ‚Üí –≤–∫–ª–∞–¥–∫–∞ –ö–æ–Ω—Å–æ–ª—å
- **Safari**: Cmd+Option+C

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–ø–∏—Å—å
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Telegram
2. –í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –∑–∞–ø–∏—Å–∏
4. –ù–∞–∂–º–∏—Ç–µ "–ó–∞–ø–∏—Å–∞—Ç—å—Å—è"

### –®–∞–≥ 3: –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏

#### ‚úÖ –£—Å–ø–µ—à–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å:
```
================================================================================
--- –®–ê–ì 1: –ù–∞—á–∞–ª–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ (handleBook) ---
...
--- –®–ê–ì 6: –í—ã–∑–æ–≤ onBookAppointment (—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ Directus) ---
********************************************************************************
*** –í–•–û–î –í handleBookAppointment (—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ Directus) ***
********************************************************************************
...
--- –®–ê–ì A4: –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Directus API ---
‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ status: "confirmed"
...
--- –®–ê–ì A5: –û—Ç–ø—Ä–∞–≤–∫–∞ POST –∑–∞–ø—Ä–æ—Å–∞ –≤ Directus –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ ---
‚úÖ –£–°–ü–ï–•! –ó–∞–ø–∏—Å—å —Å–æ–∑–¥–∞–Ω–∞ –≤ Directus
...
--- –®–ê–ì 8: –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ sendBookingNotifications ---
üöÄ –û–¢–ü–†–ê–í–ö–ê –ó–ê–ü–†–û–°–ê –ù–ê /notify...
üîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîî
üì§ –ù–ê–ß–ê–õ–û –û–¢–ü–†–ê–í–ö–ò –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø
...
‚úÖ –£–í–ï–î–û–ú–õ–ï–ù–ò–ï –£–°–ü–ï–®–ù–û –û–¢–ü–†–ê–í–õ–ï–ù–û!
```

#### ‚ùå –ï—Å–ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è, –∏—â–∏—Ç–µ:

**–ü—Ä–æ–±–ª–µ–º–∞ 1: –ó–∞–ø—Ä–æ—Å –Ω–µ –¥–æ—Ö–æ–¥–∏—Ç –¥–æ –®–ê–ì 8**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–∞ –∫–∞–∫–æ–º —à–∞–≥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞
- –ò—â–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê

**–ü—Ä–æ–±–ª–µ–º–∞ 2: –û—à–∏–±–∫–∞ –≤ Directus (–®–ê–ì A5)**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ –ø–æ–ª–µ `status: 'confirmed'` –≤ –ª–æ–≥–∞—Ö
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ Directus
- –í–æ–∑–º–æ–∂–Ω–æ, –ø–æ–ª–µ `status` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Å—Ö–µ–º–µ –ë–î

**–ü—Ä–æ–±–ª–µ–º–∞ 3: –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–®–ê–ì 8)**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `/notify`)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ payload (–≤—Å–µ –ª–∏ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ HTTP —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞

**–ü—Ä–æ–±–ª–µ–º–∞ 4: –¢–∞–π–º–∞—É—Ç**
```
‚è±Ô∏è –¢–ê–ô–ú–ê–£–¢! –ó–∞–ø—Ä–æ—Å –ø—Ä–µ–≤—ã—Å–∏–ª 10 —Å–µ–∫—É–Ω–¥
```
- –°–µ—Ä–≤–µ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞

**–ü—Ä–æ–±–ª–µ–º–∞ 5: –°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞**
```
üåê –ü—Ä–∏—á–∏–Ω–∞: –ü—Ä–æ–±–ª–µ–º–∞ —Å —Å–µ—Ç—å—é –∏–ª–∏ CORS
```
- CORS –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é

---

## üêõ –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ `status` –≤ Directus
**–°–∏–º–ø—Ç–æ–º:** –û—à–∏–±–∫–∞ –Ω–∞ –®–ê–ì A5 –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–ø–∏—Å–∏

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–µ `status` –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é `appointments` –≤ Directus:
- –¢–∏–ø: String
- –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `confirmed`

### 2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
**–°–∏–º–ø—Ç–æ–º:** –û—à–∏–±–∫–∞ 404 –∏–ª–∏ —Å–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞ –Ω–∞ –®–ê–ì 8

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `VITE_BACKEND_URL` –∏–ª–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É `backendApiBaseUrl`

### 3. –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π payload
**–°–∏–º–ø—Ç–æ–º:** –°–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –®–ê–ì 7 –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### 4. CORS –æ—à–∏–±–∫–∞
**–°–∏–º–ø—Ç–æ–º:** –û—à–∏–±–∫–∞ `CORS policy` –≤ –∫–æ–Ω—Å–æ–ª–∏

**–†–µ—à–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ CORS –Ω–∞ –±—ç–∫–µ–Ω–¥–µ –¥–ª—è –¥–æ–º–µ–Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üìä –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ –ª–æ–≥–∞ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–ø–∏—Å–∏

```javascript
================================================================================
--- –®–ê–ì 1: –ù–∞—á–∞–ª–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ (handleBook) ---
–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–ø–∏—Å–∏: {clientName: "–ò–≤–∞–Ω", clientPhone: "+79001234567", ...}
--- –®–ê–ì 2: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è ID –º–∞—Å—Ç–µ—Ä–∞ ---
masterTelegramId –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è: 123456789
‚úÖ –®–ê–ì 2 –£–°–ü–ï–®–ï–ù: masterId –≤–∞–ª–∏–¥–µ–Ω
--- –®–ê–ì 3: –ü–æ–ª—É—á–µ–Ω–∏–µ telegramId –∫–ª–∏–µ–Ω—Ç–∞ ---
clientTelegramId: 987654321
--- –®–ê–ì 4: –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏ ---
‚úÖ –§–æ—Ä–º–∞—Ç –¥–∞—Ç—ã –≤–∞–ª–∏–¥–µ–Ω: 2025-10-25
‚úÖ –§–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤–∞–ª–∏–¥–µ–Ω: 14:00
--- –®–ê–ì 5: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ –≤ Directus ---
--- –®–ê–ì 6: –í—ã–∑–æ–≤ onBookAppointment (—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ Directus) ---
********************************************************************************
*** –í–•–û–î –í handleBookAppointment (—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ Directus) ***
--- –®–ê–ì A4: –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Directus API ---
‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ status: "confirmed"
--- –®–ê–ì A5: –û—Ç–ø—Ä–∞–≤–∫–∞ POST –∑–∞–ø—Ä–æ—Å–∞ –≤ Directus –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ ---
‚úÖ –£–°–ü–ï–•! –ó–∞–ø–∏—Å—å —Å–æ–∑–¥–∞–Ω–∞ –≤ Directus
*** –í–´–•–û–î –ò–ó handleBookAppointment - –£–°–ü–ï–®–ù–û ***
--- –®–ê–ì 7: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è ---
--- –®–ê–ì 8: –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ sendBookingNotifications ---
üöÄ –û–¢–ü–†–ê–í–ö–ê –ó–ê–ü–†–û–°–ê –ù–ê /notify...
üîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîîüîî
üì§ –ù–ê–ß–ê–õ–û –û–¢–ü–†–ê–í–ö–ò –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø
üìç URL —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞: https://api.prorab360.online/notify
üì¶ –ü–æ–ª–Ω—ã–π payload: {
  "masterId": 123456789,
  "telegramId": 987654321,
  "clientName": "–ò–≤–∞–Ω",
  "service": "–°—Ç—Ä–∏–∂–∫–∞",
  "date": "2025-10-25",
  "time": "14:00",
  "notificationType": "booking"
}
üöÄ –û—Ç–ø—Ä–∞–≤–∫–∞ fetch –∑–∞–ø—Ä–æ—Å–∞...
üì• –ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞!
üìä HTTP —Å—Ç–∞—Ç—É—Å: 200
‚úÖ –£–í–ï–î–û–ú–õ–ï–ù–ò–ï –£–°–ü–ï–®–ù–û –û–¢–ü–†–ê–í–õ–ï–ù–û!
--- –®–ê–ì 9: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è (haptic feedback, toast, UI –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ) ---
--- –®–ê–ì 10: –ü—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù –£–°–ü–ï–®–ù–û ---
================================================================================
```

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** (F12)
2. **–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞–ø–∏—Å—å**
3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ –ª–æ–≥–∏** –∏–∑ –∫–æ–Ω—Å–æ–ª–∏
4. **–ù–∞–π–¥–∏—Ç–µ –º–µ—Å—Ç–æ —Å–±–æ—è** (–ø–æ—Å–ª–µ–¥–Ω–∏–π —É—Å–ø–µ—à–Ω—ã–π —à–∞–≥ –ø–µ—Ä–µ–¥ –æ—à–∏–±–∫–æ–π)
5. **–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫—É** –∏—Å–ø–æ–ª—å–∑—É—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤—ã—à–µ

–£–¥–∞—á–∏ –≤ –æ—Ç–ª–∞–¥–∫–µ! üöÄ
