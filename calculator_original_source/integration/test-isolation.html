<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∏–∑–æ–ª—è—Ü–∏–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞</title>
    <style>
        /* –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å */
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box;
        }
        
        body { 
            font-family: serif; 
            background: #f0f0f0;
            padding: 20px;
        }
        
        /* –ö–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ —Å—Ç–∏–ª–∏ */
        .button { 
            background: red !important; 
            color: white !important;
            border: 2px solid black !important;
            padding: 20px !important;
            font-size: 20px !important;
        }
        
        .modal { 
            background: yellow !important; 
            border: 5px solid green !important;
            padding: 50px !important;
        }
        
        .input {
            background: pink !important;
            border: 3px solid purple !important;
            height: 60px !important;
            font-size: 18px !important;
        }
        
        .card {
            background: orange !important;
            border: 4px solid brown !important;
            padding: 30px !important;
        }
        
        h1 {
            color: red !important;
            font-size: 50px !important;
            text-decoration: underline !important;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è */
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 2px dashed #ccc;
            border-radius: 8px;
        }
        
        .test-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
        }
        
        .test-description {
            margin-bottom: 15px;
            color: #666;
            line-height: 1.5;
        }
        
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        
        .test-button:hover {
            background: #0056b3;
        }
        
        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üß™ –¢–µ—Å—Ç –∏–∑–æ–ª—è—Ü–∏–∏ —Å—Ç–∏–ª–µ–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞</h1>
        
        <div class="test-section">
            <div class="test-title">üìã –û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞</div>
            <div class="test-description">
                –≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –æ—Ç –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞.
                –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —ç—Ç–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã.
            </div>
        </div>
        
        <div class="test-section">
            <div class="test-title">üéØ –ö–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ —Å—Ç–∏–ª–∏</div>
            <div class="test-description">
                –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ —Å—Ç–∏–ª–∏:
            </div>
            <ul>
                <li><strong>.button</strong> - –∫—Ä–∞—Å–Ω—ã–π —Ñ–æ–Ω, —á–µ—Ä–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞, –±–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä</li>
                <li><strong>.modal</strong> - –∂–µ–ª—Ç—ã–π —Ñ–æ–Ω, –∑–µ–ª–µ–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞, –±–æ–ª—å—à–∏–µ –æ—Ç—Å—Ç—É–ø—ã</li>
                <li><strong>.input</strong> - —Ä–æ–∑–æ–≤—ã–π —Ñ–æ–Ω, —Ñ–∏–æ–ª–µ—Ç–æ–≤–∞—è –≥—Ä–∞–Ω–∏—Ü–∞, –±–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä</li>
                <li><strong>.card</strong> - –æ—Ä–∞–Ω–∂–µ–≤—ã–π —Ñ–æ–Ω, –∫–æ—Ä–∏—á–Ω–µ–≤–∞—è –≥—Ä–∞–Ω–∏—Ü–∞</li>
                <li><strong>h1</strong> - –∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç, –±–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä, –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ</li>
            </ul>
        </div>
        
        <div class="test-section">
            <div class="test-title">üîß –¢–µ—Å—Ç–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã</div>
            <div class="test-description">
                –≠—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã:
            </div>
            
            <button class="button">–ö–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∞—è –∫–Ω–æ–ø–∫–∞</button>
            <input type="text" class="input" placeholder="–ö–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–µ–µ –ø–æ–ª–µ –≤–≤–æ–¥–∞" />
            <div class="card">
                <h3>–ö–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞</h3>
                <p>–≠—Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –æ—Ä–∞–Ω–∂–µ–≤—ã–π —Ñ–æ–Ω –∏ –∫–æ—Ä–∏—á–Ω–µ–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É.</p>
            </div>
        </div>
        
        <div class="test-section">
            <div class="test-title">üìä –°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</div>
            <div id="test-status" class="status info">
                –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞...
            </div>
            <button class="test-button" onclick="runTests()">–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã</button>
            <button class="test-button" onclick="loadCalculator()">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</button>
        </div>
        
        <div class="test-section">
            <div class="test-title">üé® –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</div>
            <div class="test-description">
                –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∏–∂–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å—Ç–∏–ª—è–º–∏, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã:
            </div>
            <div id="calculator-container"></div>
        </div>
        
        <div class="test-section">
            <div class="test-title">üìù –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</div>
            <div id="test-results">
                <div class="status info">–¢–µ—Å—Ç—ã –Ω–µ –∑–∞–ø—É—â–µ–Ω—ã</div>
            </div>
        </div>
    </div>

    <script>
        let calculatorLoaded = false;
        
        function updateStatus(message, type = 'info') {
            const status = document.getElementById('test-status');
            status.textContent = message;
            status.className = `status ${type}`;
        }
        
        function loadCalculator() {
            updateStatus('–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞...', 'info');
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
            setTimeout(() => {
                const container = document.getElementById('calculator-container');
                container.innerHTML = `
                    <div class="calculator-module">
                        <div class="calc-header">
                            <h1>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</h1>
                        </div>
                        <div class="calc-nav">
                            <button class="calc-nav-item">–ö–æ–º–Ω–∞—Ç—ã</button>
                            <button class="calc-nav-item">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</button>
                        </div>
                        <div class="calc-grid">
                            <div class="calc-room-card">
                                <h3>–ì–æ—Å—Ç–∏–Ω–∞—è</h3>
                                <p>–ü–ª–æ—â–∞–¥—å: 25 –º¬≤</p>
                                <button class="calc-button">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                            </div>
                            <div class="calc-room-card">
                                <h3>–°–ø–∞–ª—å–Ω—è</h3>
                                <p>–ü–ª–æ—â–∞–¥—å: 18 –º¬≤</p>
                                <button class="calc-button">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                            </div>
                        </div>
                        <div class="calc-modal" style="display: none;">
                            <div class="calc-modal-content">
                                <h3>–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ</h3>
                                <input type="text" class="calc-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ" />
                                <button class="calc-button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                            </div>
                        </div>
                    </div>
                `;
                
                calculatorLoaded = true;
                updateStatus('–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞–≥—Ä—É–∂–µ–Ω', 'success');
            }, 1000);
        }
        
        function runTests() {
            if (!calculatorLoaded) {
                updateStatus('–°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä', 'error');
                return;
            }
            
            updateStatus('–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤...', 'info');
            
            const results = [];
            
            // –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–ª—è—Ü–∏–∏ –∫–Ω–æ–ø–æ–∫
            const calcButtons = document.querySelectorAll('.calculator-module .calc-button');
            const globalButtons = document.querySelectorAll('.button');
            
            if (calcButtons.length > 0 && globalButtons.length > 0) {
                const calcButton = calcButtons[0];
                const globalButton = globalButtons[0];
                
                const calcStyle = window.getComputedStyle(calcButton);
                const globalStyle = window.getComputedStyle(globalButton);
                
                if (calcStyle.backgroundColor !== globalStyle.backgroundColor) {
                    results.push('‚úÖ –ö–Ω–æ–ø–∫–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –æ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Å—Ç–∏–ª–µ–π');
                } else {
                    results.push('‚ùå –ö–Ω–æ–ø–∫–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –Ω–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã');
                }
            }
            
            // –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–ª—è—Ü–∏–∏ –ø–æ–ª–µ–π –≤–≤–æ–¥–∞
            const calcInputs = document.querySelectorAll('.calculator-module .calc-input');
            const globalInputs = document.querySelectorAll('.input');
            
            if (calcInputs.length > 0 && globalInputs.length > 0) {
                const calcInput = calcInputs[0];
                const globalInput = globalInputs[0];
                
                const calcStyle = window.getComputedStyle(calcInput);
                const globalStyle = window.getComputedStyle(globalInput);
                
                if (calcStyle.backgroundColor !== globalStyle.backgroundColor) {
                    results.push('‚úÖ –ü–æ–ª—è –≤–≤–æ–¥–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã');
                } else {
                    results.push('‚ùå –ü–æ–ª—è –≤–≤–æ–¥–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –Ω–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã');
                }
            }
            
            // –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–ª—è—Ü–∏–∏ –∫–∞—Ä—Ç–æ—á–µ–∫
            const calcCards = document.querySelectorAll('.calculator-module .calc-room-card');
            const globalCards = document.querySelectorAll('.card');
            
            if (calcCards.length > 0 && globalCards.length > 0) {
                const calcCard = calcCards[0];
                const globalCard = globalCards[0];
                
                const calcStyle = window.getComputedStyle(calcCard);
                const globalStyle = window.getComputedStyle(globalCard);
                
                if (calcStyle.backgroundColor !== globalStyle.backgroundColor) {
                    results.push('‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã');
                } else {
                    results.push('‚ùå –ö–∞—Ä—Ç–æ—á–∫–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –Ω–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã');
                }
            }
            
            // –¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
            const calcHeaders = document.querySelectorAll('.calculator-module h1');
            const globalHeaders = document.querySelectorAll('h1');
            
            if (calcHeaders.length > 0) {
                const calcHeader = calcHeaders[0];
                const calcStyle = window.getComputedStyle(calcHeader);
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –Ω–µ –∫—Ä–∞—Å–Ω—ã–π
                if (calcStyle.color !== 'rgb(255, 0, 0)') {
                    results.push('‚úÖ –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã');
                } else {
                    results.push('‚ùå –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –Ω–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã');
                }
            }
            
            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            const resultsContainer = document.getElementById('test-results');
            resultsContainer.innerHTML = results.map(result => 
                `<div class="status ${result.startsWith('‚úÖ') ? 'success' : 'error'}">${result}</div>`
            ).join('');
            
            updateStatus('–¢–µ—Å—Ç—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã', 'success');
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('load', () => {
            setTimeout(loadCalculator, 500);
        });
    </script>
    
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ -->
    <link rel="stylesheet" href="../integration/styles/isolation.css">
    <link rel="stylesheet" href="../integration/styles/color-palette.css">
    <link rel="stylesheet" href="../integration/styles/measurements.css">
</body>
</html>
